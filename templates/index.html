<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <title>{{ t.title }}</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>


<body>
    <div class="container">
		<nav id="lang-switch">
		    <a href="/?lang=fr">FR</a> |
		    <a href="/?lang=nl">NL</a>
		</nav>

        <h1>{{ t.index_title }}</h1>

        <div class="search-form">
            <input type="text" id="street" placeholder={{ t.rue_default }} autocomplete="off">
            <input type="number" id="number" placeholder={{ t.nr_default }}>
			<!-- <label for="commune">{{ t.choose_commune }}</label>
			<select id="commune" name="commune">
			  {% for c in t.communes %}
			    <option value="{{ c }}">{{ c }}</option>
			  {% endfor %}
			</select> -->
      <!-- <label for="commune">{{ t.choose_commune }}</label> -->
      <select id="commune" name="commune" required>
        <option value="" disabled selected>{{ t.choose_commune }}</option>
        {% for c in t.communes %}
        <option value="{{ c }}">{{ c }}</option>
        {% endfor %}
      </select>
            <input type="number" id="year" placeholder={{ t.choose_year }}>
            <button id="search-btn">{{ t.search_btn }}</button>
            <span id="feedback-message" style="margin-left: 10px; font-weight: bold;"></span>
        </div>
		<!-- <div style="margin-top:20px; text-align:center;">
		    <a href="{{ url_for('batch_page') }}?lang={{ lang }}">
		        <button type="button">{{ t.go_batch_btn }}</button>
		    </a>
		</div> -->
 <!--    </div> -->


    <div id="intro">
        <p>{{ t.intro_t1 }}</p>
        <p>{{ t.intro_t2 }}</p>
        <p>{{ t.intro_t3 }}</p>
        <p>{{ t.intro_t4 }}</p>
    </div>

    <div id="results-area" style="display: none;">
		<div style="display: flex; gap: 20px; align-items: flex-start; margin: 20px auto; max-width: 1300px;">
		    <div id="results-container" style="width: 400px;">
		        <h3>{{ t.sstitre_result }}</h3>
		        <ul id="results-list" style="list-style: none; padding: 0;"></ul>
		    </div>

		    <div>
		        <div id="map" style="width: 800px; height: 800px;"></div>
		        <div id="legend" style="margin-top: 15px;">
		            <strong>{{ t.sstitre_legend }}</strong>
		            <div style="display: flex; gap: 20px; margin-top: 5px;">
		                <div style="display: flex; align-items: center;">
		                    <div style="width: 16px; height: 16px; background-color: rgb(76,175,80); border: 1px solid #333; border-radius: 50%; margin-right: 5px;"></div>
		                    {{ t.legend1 }}
		                </div>
		                <div style="display: flex; align-items: center;">
		                    <div style="width: 16px; height: 16px; background-color: rgb(225,200,0); border: 1px solid #333; border-radius: 50%; margin-right: 5px;"></div>
		                    {{ t.legend2 }}
		                </div>
		                <div style="display: flex; align-items: center;">
		                    <div style="width: 16px; height: 16px; background-color: rgb(255,0,0); border: 1px solid #333; border-radius: 50%; margin-right: 5px;"></div>
		                    {{ t.legend3 }}
		                </div>
		            </div>
		        </div>
		    </div>
		</div>
    </div>

    <div id="extro">
		<p>{{ t.legend4 }}</p>
		<p>{{ t.outro1 }}<a href="https://gag.sciences.ulb.be/" target="_blank" >{{ t.outro2 }}</a>{{ t.outro3 }}<a href="https://bhigis.ulb.be" target="_blank" >bhigis.ulb.be</a></p>
    <!--    <p>BhiGIS a été développé par une équipe de <a href="https://gag.sciences.ulb.be/" target="_blank" >l'IGEAT</a> à l'Université Libre de Bruxelles. Plus d'informations sur le projet ici: <a href="https://bhigis.ulb.be" target="_blank" >bhigis.ulb.be</a></p> -->
    </div>
	<div style="margin-top:20px; text-align:center;">
	    <a href="{{ url_for('batch_page') }}?lang={{ lang }}">
	        <button type="button">{{ t.go_batch_btn }}</button>
	    </a>
	</div>

	</div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
	<script>
	    const translations = {
	        best_result: "{{ t.best_result }}",
			    simil_name: "{{ t.similarity_lb }}",
			    copy_latlon: "{{ t.copy_coord }}",
        	unknown_address: "{{ t.unknown_address }}",
        	epoch_label: "{{ t.epoch_label }}",
        	similarity_lb: "{{ t.similarity_lb }}",
        	similarity_na: "{{ t.similarity_na }}",
        	dist_to_commune: "{{ t.dist_to_commune }}",
        	copy_tooltip: "{{ t.copy_tooltip }}",
        	fetch_error: "{{ t.fetch_error }}",
        	map_error: "{{ t.map_error }}",
        	no_results: "{{ t.no_results }}",
        	loading_msg: "{{ t.loading_msg }}"
	    	};
	</script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
