<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <title>BhiGIS - Géocodage en lot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
	 <!-- <nav>
	        <a href="/batch?lang=fr">FR</a> |
	        <a href="/batch?lang=nl">NL</a>
	    </nav>
    <nav>
        <a href="{{ url_for('index') }}">⇦ Retour à la recherche simple</a>
    </nav> -->
<div class="container">
	<nav id="lang-switch">
	    <a href="/batch?lang=fr">FR</a> |
	    <a href="/batch?lang=nl">NL</a>
	</nav>
    <h1>{{ t.batch_title }}</h1>
    <p>
        {{ t.intro_batch | safe }}
    </p>
	<!-- <div style="margin-top:20px; text-align:center;">
	    <a href="{{ url_for('index') }}?lang={{ lang }}">
	        <button type="button">{{ t.simple_search }}</button>
	    </a>
	</div> -->

    <h2>{{ t.file_struct }}</h2>
    <table id="example-table">
        <tr>
            <th>id</th>
            <th>{{ t.tbl_rue }}</th>
            <th>{{ t.tbl_num }}</th>
            <th>{{ t.tbl_muni }}</th>
            <th>{{ t.tbl_ann }}</th>
            <th>{{ t.tbl_other }}</th>
        </tr>
        <tr>
            <td>1</td>
            <td>{{ t.tbl_ex1 }}</td>
            <td>41a</td>
            <td>{{ t.tbl_ex2 }}</td>
            <td>1920</td>
            <td>{{ t.tbl_ex3 }}</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Av. Brugmann</td>
            <td>25</td>
            <td>{{ t.tbl_ex4 }}</td>
            <td>1936</td>
            <td>{{ t.tbl_ex5 }}</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Rue Hazewée</td>
            <td>1</td>
            <td>Laeken</td>
            <td>2015</td>
            <td>Snuls</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Beukenstraat</td>
            <td>74-76</td>
            <td>Vorst</td>
            <td>1912</td>
            <td>{{ t.tbl_ex6 }}</td>
        </tr>
    </table>

	<h3>{{ t.step1 }}</h3>
	<form id="uploadForm" enctype="multipart/form-data">
	    <input type="file" id="fileInput" name="file" accept=".xlsx,.ods,.csv" required>
	</form>
	<div id="status"></div>

	<div id="column-mapping" style="margin-top:20px;">
	    <!-- Dropdowns ajoutés par JS -->
	</div>

	<!-- Bouton de validation du mapping (caché au départ) -->
	<button id="submitMapping" style="display:none; margin-top:15px;">
	    {{ t.step2 }}
	</button>

    <div id="download-section">
        <h3>{{ t.download_btn }}</h3>
        <a id="download-link">
            <button id="download-btn">Télécharger le fichier ZIP</button>
        </a>
    </div>

    <p style="margin-top: 30px; font-size: 14px;">
        {{ t.batch_expl1 }}
        <ul>
            <li>{{ t.batch_expl2 }}</li>
            <li>{{ t.batch_expl3 }}</li>
            <li>{{ t.batch_expl4 }}</li>
        </ul>
    </p>

	<!-- <div id="column-mapping" style="margin-top:20px;"> -->
	    <!-- Les dropdowns seront ajoutés ici par JS -->
	<!-- </div> -->
	<!-- <div id="column-mapping" style="margin-top:20px; text-align:center;"> -->
    	<!-- Les dropdowns seront ajoutés ici par JS -->
    	<!-- <button id="submitMapping" style="display:none; margin-top:15px;">Confirmer le choix et lancer le traitement</button>
	</div> -->
	<div style="margin-top:20px; text-align:center;">
	    <a href="{{ url_for('index') }}?lang={{ lang }}">
	        <button type="button">{{ t.simple_search }}</button>
	    </a>
	</div>


</div>


<script src="{{ url_for('static', filename='batch.js') }}"></script>
</body>
</html>
