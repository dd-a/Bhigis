<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <title>BhiGIS - G√©ocodage en lot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 900px; margin: auto; }
        h2, h3 { color: #333; }
        table { border-collapse: collapse; margin: 15px auto; }
        table, th, td { border: 1px solid #666; padding: 5px; text-align: center; }
        th { background: rebeccapurple; color: white; }
        #status { margin-top: 15px; font-weight: bold; }
        #download-section { display: none; margin-top: 20px; text-align: center; }
        #download-btn {
            background-color: rebeccapurple;
            color: white;
            padding: 10px 20px;
            font-weight: bold;
            border-radius: 10px;
            border: none;
            cursor: pointer;
        }
        #download-btn:hover { background-color: indigo; }
		#lang-switch {
		    text-align: right;
		    margin-bottom: 10px;
		}
		#lang-switch a:link,
		#lang-switch a:visited {
		    color: #007bff;   /* bleu standard, tu peux changer */
		    text-decoration: none;
		}
		#lang-switch a:hover {
		    text-decoration: underline; /* petit effet au survol */
		}
    </style>
</head>
<body>
	 <!-- <nav>
	        <a href="/batch?lang=fr">FR</a> | 
	        <a href="/batch?lang=nl">NL</a>
	    </nav>
    <nav>
        <a href="{{ url_for('index') }}">‚á¶ Retour √† la recherche simple</a>
    </nav> -->
<div class="container">
	<nav id="lang-switch">
	    <a href="/?lang=fr">FR</a> | 
	    <a href="/?lang=nl">NL</a>
	</nav>
    <h2>{{ t.batch_title }}</h2>
    <p>
        {{ t.intro_batch | safe }}
    </p>
	<div style="margin-top:20px; text-align:center;">
	    <a href="{{ url_for('index') }}">
	        <button type="button">üìÇ Ou alors aller vers la localisation ponctuelle --></button>
	    </a>
	</div>

    <h3>Exemple de structure de fichier :</h3>
    <table>
        <tr>
            <th>id</th>
            <th>rue</th>
            <th>numero</th>
            <th>commune</th>
            <th>annee</th>
            <th>commentaire</th>
        </tr>
        <tr>
            <td>1</td>
            <td>Rue Royale</td>
            <td>41a</td>
            <td>Bruxelles</td>
            <td>1920</td>
            <td>boulangerie</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Av. Brugmann</td>
            <td>25</td>
            <td>Saint-Gilles</td>
            <td>1936</td>
            <td>Peintres-artistes</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Rue Hazew√©e</td>
            <td>1</td>
            <td>Laeken</td>
            <td>2015</td>
            <td>Snuls</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Beukenstraat</td>
            <td>74-76</td>
            <td>Vorst</td>
            <td>1912</td>
            <td>Couture</td>
        </tr>
    </table>

	<h3>1. S√©lectionnez votre fichier :</h3>
	<form id="uploadForm" enctype="multipart/form-data">
	    <input type="file" id="fileInput" name="file" accept=".xlsx,.ods,.csv" required>
	</form>
	<div id="status"></div>

	<div id="column-mapping" style="margin-top:20px;">
	    <!-- Dropdowns ajout√©s par JS -->
	</div>

	<!-- Bouton de validation du mapping (cach√© au d√©part) -->
	<button id="submitMapping" style="display:none; margin-top:15px;">
	    Confirmer et lancer le traitement
	</button>

    <div id="download-section">
        <h3>3. T√©l√©chargez vos r√©sultats :</h3>
        <a id="download-link">
            <button id="download-btn">T√©l√©charger le fichier ZIP</button>
        </a>
    </div>

    <p style="margin-top: 30px; font-size: 14px;">
        Le fichier de r√©sultats contient 3 tables :
        <ul>
            <li>les adresses g√©ocod√©es,</li>
            <li>les adresses non trouv√©es,</li>
            <li>des suggestions de correction.</li>
        </ul>
    </p>

	<!-- <div id="column-mapping" style="margin-top:20px;"> -->
	    <!-- Les dropdowns seront ajout√©s ici par JS -->
	<!-- </div> -->
	<!-- <div id="column-mapping" style="margin-top:20px; text-align:center;"> -->
    	<!-- Les dropdowns seront ajout√©s ici par JS -->
    	<!-- <button id="submitMapping" style="display:none; margin-top:15px;">Confirmer le choix et lancer le traitement</button>
	</div> -->

</div>

<script src="{{ url_for('static', filename='batch.js') }}"></script>
</body>
</html>
