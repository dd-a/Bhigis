
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Localisation d'adresse - BhiGIS</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 0;
        }

        #map {
            width: 800px;
            height: 800px;
        }

        .search-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 30px;
            margin-bottom: 20px;
        }

        .search-form {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            align-items: center;
            max-width: 1000px;
        }

        .search-form input,
        .search-form select,
        .search-form button {
            padding: 8px;
            font-size: 16px;
        }

        #feedback-message {
            margin-left: 10px;
            color: green;
            font-weight: bold;
        }

        #intro {
            max-width: 1300px;
            margin: 20px auto;
            text-align: justify;
            padding: 0 20px;
        }

        #results-area {
            display: none;
        }

        #results-section {
            display: flex;
            gap: 20px;
            align-items: flex-start;
            margin: 20px auto;
            max-width: 1300px;
        }

        #results-container {
            width: 400px;
        }

        #results-list {
            list-style: none;
            padding: 0;
        }

        #legend {
            margin-top: 15px;
            font-size: 14px;
        }

        #legend div {
            display: flex;
            gap: 20px;
            margin-top: 5px;
        }

        .legend-item {
            display: flex;
            align-items: center;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid #333;
        }
    </style>
</head>
<body>

    <div class="search-container">
        <h2>Localisation d'adresses historiques à Bruxelles</h2>
        <div class="search-form">
            <input type="text" id="street" placeholder="Rue..." autocomplete="off">
            <input type="number" id="number" placeholder="Numéro...">
            <select id="commune">
                <option value="">(Choisissez une commune)</option>
                <option value="Anderlecht">Anderlecht</option>
                <option value="Auderghem">Auderghem</option>
                <option value="Berchem-Sainte-Agathe">Berchem-Sainte-Agathe</option>
                <option value="Bruxelles">Bruxelles</option>
                <option value="Etterbeek">Etterbeek</option>
                <option value="Evere">Evere</option>
                <option value="Forest">Forest</option>
                <option value="Ganshoren">Ganshoren</option>
                <option value="Ixelles">Ixelles</option>
                <option value="Jette">Jette</option>
                <option value="Koekelberg">Koekelberg</option>
                <option value="Molenbeek-Saint-Jean">Molenbeek-Saint-Jean</option>
                <option value="Saint-Gilles">Saint-Gilles</option>
                <option value="Saint-Josse-ten-Noode">Saint-Josse-ten-Noode</option>
                <option value="Schaerbeek">Schaerbeek</option>
                <option value="Uccle">Uccle</option>
                <option value="Watermael-Boitsfort">Watermael-Boitsfort</option>
                <option value="Woluwe-Saint-Lambert">Woluwe-Saint-Lambert</option>
                <option value="Woluwe-Saint-Pierre">Woluwe-Saint-Pierre</option>
            </select>
            <input type="number" id="year" placeholder="Année (ex: 1905)">
            <button id="search-btn">Rechercher</button>  
            <span id="feedback-message"></span>
        </div>
    </div>

    <div id="intro">
        <p>
            L'application 'BhiGIS' (Brussels History Geographical Information System) permet de localiser des adresses à Bruxelles en fonction de données historiques, depuis la fin du 18ème siècle jusqu'à aujourd'hui.
            Comme les rues peuvent avoir conservé ou changé leur nom ou leur tracé, ou que certains noms ont pu être utilisés à différents endroits,
            plusieurs résultats sont souvent proposés.
        </p>
        <p>
            Les pastilles colorées donnent une idée de la pertinence : vert pour les plus proches, rouge pour les moins bonnes correspondances, que ce soit dû à une inadéquation des noms ou de l'époque.
        </p>
        <p>
            Enfin, pour les adresses anciennes, les positions exactes des numéros ne sont généralement pas connues, mais si possible, le segment de rue correspondant est affiché.
        </p>
    </div>

    <div id="results-area">
        <div id="results-section">
            <div id="results-container">
                <h3>Résultats (par pertinence décroissante)</h3>
                <ul id="results-list"></ul>
            </div>

            <div>
                <div id="map"></div>
				<div id="legend" style="max-width: 800px; margin: 20px auto 40px auto; font-size: 14px;">
				    <strong>Légende des couleurs :</strong>
				    <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-top: 8px;">
				        <div style="display: flex; align-items: center; gap: 6px;">
				            <div style="width: 16px; height: 16px; background-color: rgba(76,175,80,0.7); border-radius: 50%; border: 1px solid #444;"></div>
				            <span>Meilleure correspondance</span>
				        </div>
				        <div style="display: flex; align-items: center; gap: 6px;">
				            <div style="width: 16px; height: 16px; background-color: rgba(225,255,0,0.7); border-radius: 50%; border: 1px solid #444;"></div>
				            <span>Correspondance moindre</span>
				        </div>
				        <div style="display: flex; align-items: center; gap: 6px;">
				            <div style="width: 16px; height: 16px; background-color: rgba(255,180,0,0.7); border-radius: 50%; border: 1px solid #444;"></div>
				            <span>Encore moins proche</span>
				        </div>
				        <div style="display: flex; align-items: center; gap: 6px;">
				            <div style="width: 16px; height: 16px; background-color: rgba(255,80,0,0.7); border-radius: 50%; border: 1px solid #444;"></div>
				            <span>On ne sait jamais</span>
				        </div>
				    </div>
				</div>
                
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
